# XDUClassVideoDownloader

[![GitHub repo size](https://img.shields.io/github/repo-size/lsy223622/XDUClassVideoDownloader)](https://github.com/lsy223622/XDUClassVideoDownloader/archive/refs/heads/main.zip)
[![GitHub License](https://img.shields.io/github/license/lsy223622/XDUClassVideoDownloader)](https://github.com/lsy223622/XDUClassVideoDownloader?tab=GPL-3.0-1-ov-file)
[![GitHub Repo stars](https://img.shields.io/github/stars/lsy223622/XDUClassVideoDownloader)](https://github.com/lsy223622/XDUClassVideoDownloader/stargazers)

[![GitHub Tag](https://img.shields.io/github/v/tag/lsy223622/XDUClassVideoDownloader)](https://github.com/lsy223622/XDUClassVideoDownloader/tags)
[![GitHub Release Date](https://img.shields.io/github/release-date-pre/lsy223622/XDUClassVideoDownloader)](https://github.com/lsy223622/XDUClassVideoDownloader/releases)
[![GitHub Downloads (all assets, all releases)](https://img.shields.io/github/downloads/lsy223622/XDUClassVideoDownloader/total)](https://github.com/lsy223622/XDUClassVideoDownloader/releases)

![Static Badge](https://img.shields.io/badge/QQ-2413282135-white?logo=tencentqq&logoColor=white&labelColor=blue)
[![Static Badge](https://img.shields.io/badge/HOME-lsy223622.com-white?labelColor=396aa9)](https://lsy223622.com)
[![Static Badge](https://img.shields.io/badge/BLOG-blog.lsy223622.com-white?labelColor=a6c4c2)](https://blog.lsy223622.com)

## ğŸ‰ğŸ‰ 2.0 ç‰ˆæœ¬æ›´æ–° å¢åŠ  Automation.py éšæ—¶è‡ªåŠ¨ä¸‹è½½å…¨å­¦æœŸè¯¾ç¨‹ï¼ğŸ‰ğŸ‰

- [XDUClassVideoDownloader](#xduclassvideodownloader)
  - [ğŸ‰ğŸ‰ 2.0 ç‰ˆæœ¬æ›´æ–° å¢åŠ  Automation.py éšæ—¶è‡ªåŠ¨ä¸‹è½½å…¨å­¦æœŸè¯¾ç¨‹ï¼ğŸ‰ğŸ‰](#-20-ç‰ˆæœ¬æ›´æ–°-å¢åŠ -automationpy-éšæ—¶è‡ªåŠ¨ä¸‹è½½å…¨å­¦æœŸè¯¾ç¨‹)
  - [ä½¿ç”¨é¡»çŸ¥](#ä½¿ç”¨é¡»çŸ¥)
  - [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
  - [ä½¿ç”¨æ–¹æ³•](#ä½¿ç”¨æ–¹æ³•)
    - [**Windows ç”¨æˆ·çœ‹è¿™é‡Œï¼**](#windows-ç”¨æˆ·çœ‹è¿™é‡Œ)
    - [ä½¿ç”¨å‰çš„å‡†å¤‡æ­¥éª¤](#ä½¿ç”¨å‰çš„å‡†å¤‡æ­¥éª¤)
    - [XDUClassVideoDownloader.py](#xduclassvideodownloaderpy)
      - [å‘½ä»¤è¡Œå‚æ•°](#å‘½ä»¤è¡Œå‚æ•°)
        - [ç¤ºä¾‹](#ç¤ºä¾‹)
    - [Automation.py](#automationpy)
  - [æ³¨æ„äº‹é¡¹](#æ³¨æ„äº‹é¡¹)
  - [ä½¿ç”¨çš„äºŒè¿›åˆ¶æ–‡ä»¶](#ä½¿ç”¨çš„äºŒè¿›åˆ¶æ–‡ä»¶)
  - [å„ç§è¯­è¨€çš„ç‰ˆæœ¬](#å„ç§è¯­è¨€çš„ç‰ˆæœ¬)

## ä½¿ç”¨é¡»çŸ¥

- è¯·å…ˆé˜…è¯»æ­¤ README å†ä½¿ç”¨æœ¬é¡¹ç›®ã€‚
- å¦‚æœé‡åˆ°é—®é¢˜å¯ä»¥è”ç³»ä¸Šé¢çš„ QQã€‚
- æ¬¢è¿æå‡ºå»ºè®®å’Œæ”¹è¿›æ„è§ï¼Œèƒ½ PR çš„è¯å°±æ›´å¥½å•¦ã€‚
- å¦‚æœè§‰å¾—å¥½ç”¨è¯·ç»™ä¸ª Star å“¦ã€‚

## é¡¹ç›®ç®€ä»‹

- æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªç”¨äºä¸‹è½½è¥¿å®‰ç”µå­ç§‘æŠ€å¤§å­¦å½•ç›´æ’­å¹³å°è¯¾ç¨‹è§†é¢‘çš„å·¥å…·ã€‚
- åªéœ€è¿è¡Œ `XDUClassVideoDownloader.py`ï¼Œè¾“å…¥ä»»æ„ä¸€èŠ‚è¯¾çš„ `liveId`ï¼Œå³å¯è‡ªåŠ¨ä¸‹è½½ `å•èŠ‚è¯¾` / `å•é›†ï¼ˆåŠèŠ‚è¯¾ï¼‰` / `è¯¥è¯¾ç¨‹çš„æ‰€æœ‰è§†é¢‘`ã€‚

   > `liveId` æ˜¯è¯¾ç¨‹ç›´æ’­çš„å”¯ä¸€æ ‡è¯†ï¼Œå¯ä»¥åœ¨è¯¾ç¨‹ç›´æ’­é¡µé¢çš„ URL ä¸­æ‰¾åˆ°ã€‚å¦‚ï¼š`http://newesxidian.chaoxing.com/live/viewNewCourseLive1?liveId=12345678` ä¸­çš„ `12345678`ã€‚

- åŒæ—¶ä¼šä¿å­˜é€‰æ‹©ä¸‹è½½çš„èŒƒå›´å†…æ‰€æœ‰è§†é¢‘çš„ `m3u8` é“¾æ¥åˆ°å¯¹åº”çš„ `csv` è¡¨æ ¼ä¸­ï¼Œæ–¹ä¾¿ä½¿ç”¨å…¶ä»–æ–¹å¼ä¸‹è½½ã€‚
- 2.0 ç‰ˆæœ¬å¢åŠ  `Automation.py`ï¼Œåªéœ€è¾“å…¥è¶…æ˜Ÿç”¨æˆ· UIDï¼Œå³å¯è‡ªåŠ¨ä¸‹è½½æœ¬å­¦æœŸç›®å‰æ‰€æœ‰è¯¾ç¨‹ã€‚

   > è¶…æ˜Ÿç”¨æˆ· UID å¯ä»¥åœ¨ `chaoxing.com` çš„ cookies ä¸­æ‰¾åˆ°ï¼Œ`UID` çš„å€¼å°±æ˜¯è¶…æ˜Ÿç”¨æˆ· UIDã€‚

- ä¸‹è½½æ—¶ä¼šè‡ªåŠ¨æ£€æŸ¥ä¹‹å‰æ˜¯å¦ä¸‹è½½è¿‡åŒä¸€èŠ‚è¯¾ï¼Œå¦‚æœå·²ç»ä¸‹è½½åˆ™ä¼šè·³è¿‡ã€‚æ‰€ä»¥å¯ä»¥åœ¨ä¸€å­¦æœŸä¸­çš„å¤šä¸ªæ—¶å€™éšæ—¶ä¸‹è½½æ–°å¢çš„å½•æ’­è§†é¢‘ã€‚
- ä¸‹è½½çš„è§†é¢‘æŒ‰ç…§è¯¾ç¨‹å’Œæ—¶é—´æ•´ç†ï¼Œä¸‹è½½å¤šä¸ªè¯¾ç¨‹çš„è§†é¢‘ä¹Ÿä¸ä¼šå†²çªã€‚
- æ–‡ä»¶å¤¹å’Œ `csv` è¡¨æ ¼å‘½åè§„åˆ™ï¼šå¹´ä»½-è¯¾ç¨‹å·-è¯¾ç¨‹åã€‚
- è¯¾ç¨‹è§†é¢‘å‘½åè§„åˆ™ï¼šè¯¾ç¨‹å·-è¯¾ç¨‹å-å¹´æœˆæ—¥-å‘¨æ¬¡-èŠ‚å·-è§†é¢‘æ¥æºã€‚

## ä½¿ç”¨æ–¹æ³•

### **Windows ç”¨æˆ·çœ‹è¿™é‡Œï¼**

- å¯ä»¥ä» [Releases](https://github.com/lsy223622/XDUClassVideoDownloader/releases/latest) ç›´æ¥ä¸‹è½½æ‰“åŒ…å¥½çš„ exe ç¨‹åºï¼Œæ— éœ€ä»¥ä¸‹æ‰€æœ‰å‡†å¤‡æ­¥éª¤ï¼Œæ‰“å¼€ `XDUClassVideoDownloader.exe` åè¾“å…¥ `liveId`ï¼Œæˆ–æ‰“å¼€ `Automation.exe` åè¾“å…¥ `UID`ï¼Œä¸‹é¢çš„é€‰é¡¹å‚è€ƒä¸‹æ–¹ [ä½¿ç”¨](#xduclassvideodownloaderpy) éƒ¨åˆ†ã€‚

### ä½¿ç”¨å‰çš„å‡†å¤‡æ­¥éª¤

1. å®‰è£… `Python`ï¼ˆæˆ‘ç”¨çš„ 3.11.7ï¼‰ã€‚[Python å®˜ç½‘ä¸‹è½½é¡µé¢](https://www.python.org/downloads/)
   - æ£€æŸ¥ Python ç‰ˆæœ¬ï¼š

   ```shell
   python --version
   ```

2. åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤æ¥ä½¿ç”¨ `pip` å®‰è£…ä¾èµ–ï¼š`requests`, `tqdm`ã€‚~~å¦‚æœç¼ºåˆ«çš„ä¾èµ–é‚£å°±è£…åˆ«çš„ä¾èµ–~~

   ```shell
   pip install requests tqdm
   ```

### XDUClassVideoDownloader.py

1. ä¸‹è½½æœ¬é¡¹ç›®ã€‚
2. è¿è¡Œç¨‹åºï¼š
   - Windows ç”¨æˆ·ï¼šåŒå‡» `windows_run.bat`ã€‚
   - Linux ç”¨æˆ·ï¼šè¿è¡Œ `XDUClassVideoDownloader.py`ã€‚
3. è¾“å…¥ `liveId` å¹¶å›è½¦ã€‚
4. è¾“å…¥ `y/n/s` å¹¶å›è½¦ã€‚
   - `y`ï¼šä¸‹è½½ `liveId` å¯¹åº”å•èŠ‚è¯¾çš„è§†é¢‘ã€‚
   - `n`ï¼šä¸‹è½½è¿™é—¨è¯¾ç¨‹çš„æ‰€æœ‰è§†é¢‘ã€‚
   - `s`ï¼šä¸‹è½½ `liveId` å¯¹åº”çš„å•é›†ï¼ˆåŠèŠ‚è¯¾ï¼‰è§†é¢‘ã€‚
   - ä¸è¾“å…¥ç›´æ¥å›è½¦ï¼šæ•ˆæœåŒ `y`ã€‚
5. è¾“å…¥ `y/n` å¹¶å›è½¦ã€‚
   - `y`ï¼šåˆå¹¶ä¸Šä¸‹åŠèŠ‚è§†é¢‘ã€‚
   - `n`ï¼šä¸åˆå¹¶ä¸Šä¸‹åŠèŠ‚è§†é¢‘ã€‚
   - ä¸è¾“å…¥ç›´æ¥å›è½¦ï¼šæ•ˆæœåŒ `y`ã€‚
6. ç­‰å¾…ç¨‹åºæ‰§è¡Œç»“æŸï¼Œä¸‹è½½çš„è§†é¢‘ä¼šä¿å­˜åœ¨åŒç›®å½•ä¸‹å¯¹åº”çš„æ–‡ä»¶å¤¹ä¸­ã€‚

#### å‘½ä»¤è¡Œå‚æ•°

```shell
python XDUClassVideoDownloader.py [LIVEID] [-c COMMAND] [-s] [--no-merge]
```

- `LIVEID` ï¼ˆå¯é€‰ï¼‰ï¼šè¯¾ç¨‹çš„ liveIdï¼Œä¸è¾“å…¥åˆ™é‡‡ç”¨äº¤äº’å¼æ–¹å¼è·å–ã€‚
- `-c COMMAND` ï¼ˆå¯é€‰ï¼‰ï¼šè‡ªå®šä¹‰ä¸‹è½½å‘½ä»¤ã€‚ä½¿ç”¨ `{url}`, `{save_dir}`, `{filename}` ä½œä¸ºæ›¿æ¢æ ‡è®°ã€‚
- `-s` ï¼ˆå¯é€‰ï¼‰ï¼šä»…ä¸‹è½½å•èŠ‚è¯¾è§†é¢‘ï¼ˆ`-ss`ï¼šåŠèŠ‚è¯¾è§†é¢‘ï¼‰ã€‚
- `--no-merge` ï¼ˆå¯é€‰ï¼‰ï¼šä¸åˆå¹¶ä¸Šä¸‹åŠèŠ‚è¯¾è§†é¢‘ã€‚

å‘½ä»¤è¡Œå‚æ•°å¯¹ Releases ä¸­æ‰“åŒ…çš„ exe ç¨‹åºä¹Ÿæœ‰æ•ˆï¼Œåœ¨è¿è¡Œ exe ç¨‹åºæ—¶å¯ä»¥ç›´æ¥åœ¨åé¢åŠ ä¸Šå‚æ•°ã€‚

##### ç¤ºä¾‹

- åœ¨ Windows ä¸Šè¿è¡Œæ‰“åŒ…çš„ exe ä½¿ç”¨é»˜è®¤çš„ä¸‹è½½å‘½ä»¤ä»…ä¸‹è½½å•èŠ‚è¯¾è§†é¢‘

   ```shell
   XDUClassVideoDownloader.exe 1234567890 -s
   ```

- åœ¨ Linux ä¸Šè¿è¡Œæºç ä½¿ç”¨è‡ªå®šä¹‰ä¸‹è½½å‘½ä»¤ä¸‹è½½ä¸€é—¨è¯¾ç¨‹çš„æ‰€æœ‰è§†é¢‘

   ```shell
   python XDUClassVideoDownloader.py 1234567890 -c './vsd-upx save {url} -o {save_dir}\{filename} --retry-count 32 -t 16'
   ```

### Automation.py

1. ä¸‹è½½æœ¬é¡¹ç›®ã€‚
2. è¿è¡Œç¨‹åºï¼š
   - Windows ç”¨æˆ·ï¼šåŒå‡» `automation.bat`ã€‚
   - Linux ç”¨æˆ·ï¼šè¿è¡Œ `Automation.py`ã€‚
3. è¾“å…¥ `UID` å¹¶å›è½¦ã€‚
4. ç­‰å¾…ç¨‹åºæ‰§è¡Œç»“æŸï¼Œä¸‹è½½çš„è§†é¢‘ä¼šä¿å­˜åœ¨åŒç›®å½•ä¸‹å¯¹åº”çš„æ–‡ä»¶å¤¹ä¸­ã€‚

## æ³¨æ„äº‹é¡¹

- ä½¿ç”¨æœ¬é¡¹ç›®ä¸‹è½½çš„è§†é¢‘ä»…ä¾›ä¸ªäººå­¦ä¹ ä½¿ç”¨ï¼Œè¯·å‹¿ä¼ æ’­æˆ–ç”¨äºå•†ä¸šç”¨é€”ã€‚
- å¼€å‘è€…ä¸å¯¹ä½¿ç”¨æœ¬é¡¹ç›®å¯¼è‡´çš„ä»»ä½•é—®é¢˜è´Ÿè´£ã€‚
- è¯·éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„ï¼Œä¸‹è½½è§†é¢‘æ—¶è¯·éµå®ˆå­¦æ ¡ç›¸å…³è§„å®šã€‚

## ä½¿ç”¨çš„äºŒè¿›åˆ¶æ–‡ä»¶

- `vsd-upx.exe`, `vsd-upx`
- `vsd.exe`, `vsd` æ¥è‡ª [clitic/vsd](https://github.com/clitic/vsd)
- ä½¿ç”¨ `upx` å‹ç¼©ï¼Œæ¥è‡ª [upx/upx](https://github.com/upx/upx)

## å„ç§è¯­è¨€çš„ç‰ˆæœ¬

> æ¬¢è¿é‡å†™ğŸ˜‹

| è¯­è¨€ | é¡¹ç›®åœ°å€ |
| --- | --- |
| Python | [lsy223622/XDUClassVideoDownloader](https://github.com/lsy223622/XDUClassVideoDownloader) |
| Rust | [canxin121/live_class_downloader](https://github.com/canxin121/live_class_downloader) |
| Java | [NanCunChild/XDUClassVideoDownloader](https://github.com/NanCunChild/XDUClassVideoDownloader/tree/java-version) |
